(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7077ba4"],{"05b8":function(t,e,i){"use strict";var o=i("2235"),n=i.n(o);n.a},2235:function(t,e,i){},3302:function(t,e,i){},8047:function(t,e,i){"use strict";var o=i("8860"),n=i.n(o);n.a},"821b":function(t,e,i){"use strict";var o=i("3302"),n=i.n(o);n.a},8860:function(t,e,i){},"8fa0":function(t,e,i){},a017:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"absolute-center"},[i("div",{staticClass:"relative-center"},[i("NoteEdit",t._g({attrs:{note:t.noteById(t.$route.params.id)}},t.$listeners))],1)])},n=[],s=i("2f62"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"note",staticClass:"note"},[i("NoteTitleEdit",t._g({attrs:{title:t.noteState.title,id:t.noteState.id},on:{"set-title":t.setTitle}},t.$listeners)),i("div",{staticClass:"buttons"},[i("button",{on:{click:t.setNote}},[i("i",{staticClass:"fas fa-check",class:{inactiveButton:!t.noteWasChanged}})]),i("button",{on:{click:t.discardChanges}},[i("i",{staticClass:"fas fa-times",class:{inactiveButton:!t.noteWasChanged}})]),i("button",{on:{click:t.resetState}},[i("i",{staticClass:"fas fa-redo redo",class:{inactiveButton:!t.cachedState}})])]),i("hr"),i("ul",t._l(t.noteState.todoList,(function(e){return i("TodoEdit",{key:e.id,attrs:{todo:e},on:{"set-todo":t.setTodo,"delete-todo":t.deleteTodo}})})),1),t.showAddTodoField?i("TodoAddField",{attrs:{width:t.noteWidth},on:{"toggle-add-todo":function(e){t.showAddTodoField=!1},submit:t.handleTodoSubmit}}):t._e(),i("hr"),i("TodoAddButton",{attrs:{inactiveButton:t.showAddTodoField},on:{"toggle-add-todo":function(e){t.showAddTodoField=!0}}})],1)},d=[],c=(i("4de4"),i("7db0"),i("5530")),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"todo"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.status,expression:"todo.status"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.todo.status)?t._i(t.todo.status,null)>-1:t.todo.status},on:{change:function(e){var i=t.todo.status,o=e.target,n=!!o.checked;if(Array.isArray(i)){var s=null,a=t._i(i,s);o.checked?a<0&&t.$set(t.todo,"status",i.concat([s])):a>-1&&t.$set(t.todo,"status",i.slice(0,a).concat(i.slice(a+1)))}else t.$set(t.todo,"status",n)}}}),t.todoEdit?t._e():i("p",{ref:"text",class:{done:t.todo.status}},[t._v(t._s(t.todo.text))]),i("form",{directives:[{name:"show",rawName:"v-show",value:t.todoEdit,expression:"todoEdit"}],on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newText,expression:"newText"}],ref:"input",style:{width:t.todoWidth+5+"px"},attrs:{type:"text"},domProps:{value:t.newText},on:{input:function(e){e.target.composing||(t.newText=e.target.value)}}})]),i("div",{staticClass:"buttons"},[t.todoEdit?t._e():i("button",{on:{click:t.enableTodoEdit}},[i("i",{staticClass:"fas fa-pen"})]),t.todoEdit?t._e():i("button",{on:{click:t.deleteTodo}},[i("i",{staticClass:"fas fa-trash"})]),t.todoEdit?i("button",{on:{click:t.submit}},[i("i",{staticClass:"fas fa-check"})]):t._e(),t.todoEdit?i("button",{on:{click:t.discard}},[i("i",{staticClass:"fas fa-times"})]):t._e()])])},l=[],r=i("8c15"),h={data:function(){return{todoEdit:!1,newText:this.todo.text,todoWidth:0}},updated:function(){this.todoWidth=this.$refs.text.offsetWidth},mounted:function(){var t=this;this.todoWidth=this.$refs.text.offsetWidth,r["a"].$on("disable-others",(function(e){t.todo.id!==e&&t.discard()}))},methods:{submit:function(){this.$emit("set-todo",Object(c["a"])(Object(c["a"])({},this.todo),{},{text:this.newText})),this.todoEdit=!1},discard:function(){this.newText=this.todo.text,this.todoEdit=!1},enableTodoEdit:function(){var t=this;this.todoEdit=!0,r["a"].$emit("disable-others",this.todo.id),setTimeout((function(){return t.$refs.input.focus()}),0)},deleteTodo:function(){this.$emit("delete-todo",this.todo.id)}},props:["todo"]},f=h,p=(i("8047"),i("2877")),m=Object(p["a"])(f,u,l,!1,null,"3135fe41",null),b=m.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("i",{staticClass:"fas fa-plus",class:{inactiveButton:t.inactiveButton},on:{click:t.handleClick}})},T=[],w={props:["inactiveButton"],methods:{handleClick:function(){this.inactiveButton||this.$emit("toggle-add-todo")}}},x=w,E=(i("b039"),Object(p["a"])(x,v,T,!1,null,"fb9149a4",null)),S=E.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.textInput,expression:"textInput"}],ref:"input",style:{width:t.width+"px"},attrs:{type:"text"},domProps:{value:t.textInput},on:{input:function(e){e.target.composing||(t.textInput=e.target.value)}}}),i("div",{staticClass:"buttons"},[i("button",{attrs:{type:"submit"}},[i("i",{staticClass:"fas fa-check",class:{inactiveButton:!t.textInput.trim()}})]),i("button",{on:{click:function(e){return t.$emit("toggle-add-todo")}}},[i("i",{staticClass:"fas fa-times"})])])])},_=[],C=(i("498a"),{props:["width","showAddTodoField"],data:function(){return{textInput:""}},methods:{handleSubmit:function(){this.textInput.trim()&&(this.$emit("submit",this.textInput),this.textInput="")}},mounted:function(){var t=this;setTimeout((function(){return t.$refs.input.focus()}),0)}}),$=C,k=(i("ab30"),Object(p["a"])($,g,_,!1,null,"59b7e2e4",null)),y=k.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[t.noteTitleEdit?t._e():i("button",{on:{click:t.enableTitleEdit}},[i("i",{staticClass:"fas fa-pen"})]),t.noteTitleEdit?i("button",{on:{click:t.submit}},[i("i",{staticClass:"fas fa-check"})]):t._e(),i("form",{directives:[{name:"show",rawName:"v-show",value:t.noteTitleEdit,expression:"noteTitleEdit"}],on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newTitle,expression:"newTitle"}],ref:"input",staticClass:"title-input",style:{width:t.titleWidth+10+"px"},attrs:{type:"text"},domProps:{value:t.newTitle},on:{input:function(e){e.target.composing||(t.newTitle=e.target.value)}}})]),t.noteTitleEdit?t._e():i("h1",{ref:"title"},[t._v(t._s(t.title))]),t.noteTitleEdit?i("button",{on:{click:t.discard}},[i("i",{staticClass:"fas fa-times"})]):t._e(),t.noteTitleEdit?t._e():i("NoteDeleteButton",t._g({attrs:{id:t.id}},t.$listeners))],1)},O=[],W=i("2efa"),B={data:function(){return{noteTitleEdit:!1,titleWidth:0,newTitle:this.title}},components:{NoteDeleteButton:W["a"]},props:["title","id"],methods:{enableTitleEdit:function(){var t=this;this.noteTitleEdit=!0,setTimeout((function(){return t.$refs.input.focus()}),0)},submit:function(){this.noteTitleEdit=!1,this.$emit("set-title",this.newTitle)},discard:function(){this.noteTitleEdit=!1,this.newTitle=this.title}},mounted:function(){this.titleWidth=this.$refs.title.offsetWidth,this.newTitle=this.title},updated:function(){this.titleWidth=this.$refs.title.offsetWidth}},j=B,I=(i("821b"),Object(p["a"])(j,N,O,!1,null,"14e93b4e",null)),A=I.exports,J={data:function(){return{showAddTodoField:!1,noteWidth:0,noteState:void 0,cachedState:void 0}},computed:Object(c["a"])(Object(c["a"])({},Object(s["b"])(["noteById"])),{},{noteWasChanged:function(){return JSON.stringify(this.noteState)!==JSON.stringify(this.noteById(this.note.id))}}),props:["note"],components:{TodoEdit:b,TodoAddButton:S,TodoAddField:y,NoteTitleEdit:A},beforeMount:function(){this.noteState=JSON.parse(JSON.stringify(this.noteById(this.note.id)))},mounted:function(){this.noteWidth=this.$refs.note.offsetWidth},methods:Object(c["a"])(Object(c["a"])({},Object(s["c"])(["updateNote"])),{},{handleTodoSubmit:function(t){var e,i=(null===(e=this.noteState.todoList[this.noteState.todoList.length-1])||void 0===e?void 0:e.id)+1;i=i||0;var o={id:i,text:t,status:!1};this.noteState.todoList.push(o)},setTitle:function(t){this.noteState.title=t},setTodo:function(t){var e=this.noteState.todoList.find((function(e){return e.id===t.id}));Object.assign(e,t)},deleteTodo:function(t){this.noteState.todoList=this.noteState.todoList.filter((function(e){return e.id!==t}))},setNote:function(){this.noteWasChanged&&(this.updateNote(this.noteState),this.noteState=JSON.parse(JSON.stringify(this.noteById(this.note.id))))},discardChanges:function(){this.noteWasChanged&&(this.cachedState=this.noteState,this.noteState=JSON.parse(JSON.stringify(this.noteById(this.note.id))))},resetState:function(){this.cachedState&&(this.noteState=this.cachedState,this.cachedState=void 0)}})},F=J,L=(i("05b8"),Object(p["a"])(F,a,d,!1,null,"68aff53b",null)),D=L.exports,P={components:{NoteEdit:D},computed:Object(s["b"])(["noteById"])},M=P,q=Object(p["a"])(M,o,n,!1,null,null,null);e["default"]=q.exports},ab30:function(t,e,i){"use strict";var o=i("c3c5"),n=i.n(o);n.a},b039:function(t,e,i){"use strict";var o=i("8fa0"),n=i.n(o);n.a},c3c5:function(t,e,i){}}]);
//# sourceMappingURL=chunk-e7077ba4.daa65786.js.map