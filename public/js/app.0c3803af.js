(function(e){function t(t){for(var r,i,c=t[0],u=t[1],s=t[2],p=0,l=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&l.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);d&&d(t);while(l.length)l.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},i={app:0},o={app:0},a=[];function c(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-27ec5840":"9490604a","chunk-4137ffb0":"2997980d","chunk-4ff362b9":"08459dfd"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-27ec5840":1,"chunk-4137ffb0":1,"chunk-4ff362b9":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-27ec5840":"00af7565","chunk-4137ffb0":"deed5b65","chunk-4ff362b9":"4a28fd68"}[e]+".css",o=u.p+r,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var s=a[c],p=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(p===r||p===o))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){s=l[c],p=s.getAttribute("data-href");if(p===r||p===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete i[e],d.parentNode.removeChild(d),n(a)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){i[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=a);var s,p=document.createElement("script");p.charset="utf-8",p.timeout=120,u.nc&&p.setAttribute("nonce",u.nc),p.src=c(e);var l=new Error;s=function(t){p.onerror=p.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,n[1](l)}o[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:p})}),12e4);p.onerror=p.onload=s,document.head.appendChild(p)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],p=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=p;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0402":function(e,t,n){e.exports=n.p+"img/visibility_off.c4e88777.svg"},"05f1":function(e,t,n){"use strict";n("f4f9")},"0f76":function(e,t,n){},"1c4a":function(e,t,n){},"1d50":function(e,t,n){},"278f":function(e,t,n){"use strict";n("2ff3")},"27f7":function(e,t,n){"use strict";n.r(t);var r,i=n("5530"),o=n("1da1"),a=n("2909"),c=(n("96cf"),n("d81d"),n("b0c0"),n("4e82"),n("e9c4"),n("d3b7"),n("c740"),n("a434"),n("2ef0")),u=n.n(c),s=JSON.parse(null!==(r=window.localStorage.getItem("timers"))&&void 0!==r?r:"[]"),p=1;s.length&&(p=Math.max.apply(Math,Object(a["a"])(s.map((function(e){return+e.id}))))+1);var l=function(e,t){return e.name>t.name?1:e.name<t.name?-1:+e.id-t.id},d=function(){s.sort(l),window.localStorage.setItem("timers",JSON.stringify(s))},f=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(i["a"])(Object(i["a"])({},t),{},{started:(new Date).toUTCString(),stopped:(new Date).toUTCString(),timeLeft:t.initTimeLeft,id:p}),s.push(n),d(),p++,e.abrupt("return",new Promise((function(e,t){return e(u.a.cloneDeep(s))})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){return e(u.a.cloneDeep(s))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.findIndex((function(e){return e.id==t})),n>=0&&(s.splice(n,1),d()),e.abrupt("return",new Promise((function(e,t){return e(u.a.cloneDeep(s))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.findIndex((function(e){return e.id==t})),o=s[r],a=Object(i["a"])({},n),null===n||void 0===n||!n.stopped||null!==n&&void 0!==n&&n.timeLeft||!o.started||o.stopped||(c=new Date(n.stopped)-new Date(o.started),a.timeLeft=o.timeLeft-c),n.initTimeLeft&&o.initTimeLeft!=n.initTimeLeft&&(a.started=(new Date).toUTCString(),a.stopped=(new Date).toUTCString(),a.timeLeft=n.initTimeLeft,a.runOutAt=null),s[r]=Object(i["a"])(Object(i["a"])({},o),a),d(),e.abrupt("return",new Promise((function(e,t){return e(u.a.cloneDeep(s))})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t["default"]={newTimer:f,getTimers:m,removeTimerById:b,updTimerById:h}},"28b8":function(e,t,n){"use strict";n("0f76")},"2ff3":function(e,t,n){},3163:function(e,t,n){e.exports=n.p+"img/visibility_on.b44211b4.svg"},"36a3":function(e,t,n){},"36b6":function(e,t,n){"use strict";n("7895")},"386a":function(e,t,n){"use strict";n("f5a3")},"3d6a":function(e,t,n){"use strict";n("d871")},4147:function(e,t,n){"use strict";n("992f")},"56ce":function(e,t,n){"use strict";n("d52a")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),i={class:"app"},o={class:"app__content"};function a(e,t,n,a,c,u){var s=Object(r["H"])("app-header"),p=Object(r["H"])("app-settings"),l=Object(r["H"])("router-view"),d=Object(r["H"])("base-popup");return Object(r["z"])(),Object(r["i"])("div",i,[Object(r["k"])(s,{user:c.user,onTogglePopup:u.togglePopup,onPopupEvent:u.handlePopupEvent,onToggleSettings:t[0]||(t[0]=function(e){return c.showSettings=!c.showSettings})},null,8,["user","onTogglePopup","onPopupEvent"]),c.showSettings?(Object(r["z"])(),Object(r["g"])(p,{key:0,class:"app__settings",onTogglePopup:u.togglePopup},null,8,["onTogglePopup"])):Object(r["h"])("",!0),Object(r["j"])("div",o,[Object(r["k"])(l,{class:"app__view",onTogglePopup:u.togglePopup,onHandleHttpError:u.handleHttpError,onSendNotif:u.sendNotification},{default:Object(r["O"])((function(e){var t=e.Component;return[(Object(r["z"])(),Object(r["g"])(Object(r["I"])(t),{ref:"routerRef"},null,512))]})),_:1},8,["onTogglePopup","onHandleHttpError","onSendNotif"])]),Object(r["k"])(r["c"],{name:"fade"},{default:Object(r["O"])((function(){return[c.showPopup?(Object(r["z"])(),Object(r["g"])(d,{key:0,onTogglePopup:u.togglePopup},{default:Object(r["O"])((function(){return[(Object(r["z"])(),Object(r["g"])(Object(r["I"])(a.popupComponent),Object(r["r"])(a.popupProps,{onPopupEvent:u.handlePopupEvent,onTogglePopup:u.togglePopup,onHandleHttpError:u.handleHttpError}),null,16,["onPopupEvent","onTogglePopup","onHandleHttpError"]))]})),_:1},8,["onTogglePopup"])):Object(r["h"])("",!0)]})),_:1})])}n("b0c0"),n("e9c4"),n("d3b7"),n("3ca3"),n("ddb0");var c=function(e){return"popup-auth"===e?Object(r["q"])(Object(r["l"])((function(){return n.e("chunk-4137ffb0").then(n.bind(null,"6ad9"))}))):"popup-info"===e?Object(r["q"])(Object(r["l"])((function(){return n.e("chunk-4ff362b9").then(n.bind(null,"85e2"))}))):"popup-timer"===e&&Object(r["q"])(Object(r["l"])((function(){return n.e("chunk-27ec5840").then(n.bind(null,"c6b2"))})))},u=function(){return"granted"!==window.Notification.permission?window.Notification.requestPermission():new Promise},s=function(e){var t=e.title,n=e.body;new Notification(t,{body:n})},p=function(){return"granted"===window.Notification.permission},l={askPermission:u,send:s,isPermited:p},d={name:"App",setup:function(){return{popupComponent:null,popupProps:null}},data:function(){return{showPopup:!1,user:JSON.parse(localStorage.getItem("user")),showSettings:!1}},methods:{togglePopup:function(e){this.popupComponent=null,this.popupProps=null,this.showPopup=!1,null!==e&&void 0!==e&&e.name&&(this.popupComponent=c(e.name),this.popupProps=null===e||void 0===e?void 0:e.props,this.showPopup=!0)},setUser:function(e){localStorage.setItem("user",JSON.stringify(e)),this.user=e,this.$router.go()},handlePopupEvent:function(e){var t,n,r,i;"newTimer"===(null===e||void 0===e?void 0:e.type)?null===(t=this.$refs.routerRef)||void 0===t||null===(n=t.createNewTimer)||void 0===n||n.call(t,e.payload):"updateTimer"===(null===e||void 0===e?void 0:e.type)?null===(r=this.$refs.routerRef)||void 0===r||null===(i=r.updateTimer)||void 0===i||i.call(r,e.payload):"setUser"===(null===e||void 0===e?void 0:e.type)?this.setUser(e.payload):console.log("handlePopupEvent:",e)},handleHttpError:function(e){400===(null===e||void 0===e?void 0:e.status)?this.togglePopup({name:"popup-info",props:{title:"Error",body:null===e||void 0===e?void 0:e.error}}):401===(null===e||void 0===e?void 0:e.status)?this.togglePopup({name:"popup-auth"}):console.log("Http error not handled:",e)},sendNotification:function(e){var t=JSON.parse(localStorage.getItem("notifications"));t&&l.send(e)}}},f=(n("56ce"),n("6b0d")),m=n.n(f);const b=m()(d,[["render",a]]);var h=b,v=n("6c02"),g={class:"view-home"};function j(e,t,n,i,o,a){var c=Object(r["H"])("base-button"),u=Object(r["H"])("AppTimerCard"),s=Object(r["H"])("base-loader");return Object(r["z"])(),Object(r["i"])("div",g,[Object(r["k"])(c,{tabindex:o.loading?-1:0,label:"Add timer",onClick:a.addTimerPopup},null,8,["tabindex","onClick"]),o.timers.length?(Object(r["z"])(),Object(r["i"])(r["b"],{key:0},[(Object(r["z"])(!0),Object(r["i"])(r["b"],null,Object(r["F"])(o.timers,(function(e,t){return Object(r["z"])(),Object(r["g"])(u,Object(r["r"])({ref_for:!0,ref:"cards",key:t},e,{loading:o.timersLoadingStat[t],inactive:o.loading,onRemoveTimer:function(e){return a.removeTimer(t)},onStartTimer:function(e){return a.startTimer(t)},onStopTimer:function(e){return a.stopTimer(t)},onEditTimer:function(e){return a.updateTimerPopup(t)},onResetTimer:function(e){return a.resetTimer(t)},onTimerDone:function(e){return a.timerDone(t)}}),null,16,["loading","inactive","onRemoveTimer","onStartTimer","onStopTimer","onEditTimer","onResetTimer","onTimerDone"])})),128)),Object(r["k"])(c,{tabindex:o.loading?-1:0,label:"Add timer",onClick:a.addTimerPopup},null,8,["tabindex","onClick"])],64)):Object(r["h"])("",!0),o.loading?(Object(r["z"])(),Object(r["g"])(s,{key:1})):Object(r["h"])("",!0)])}var O=n("5530"),w=n("1da1"),T=(n("96cf"),{class:"app-timer-card"}),y={class:"app-timer-card__title"},_={class:"app-timer-card__timer"},k={class:"app-timer-card__init-timer"},S={class:"app-timer-card__buttons"};function P(e,t,n,i,o,a){var c=Object(r["H"])("base-button"),u=Object(r["H"])("base-loader");return Object(r["z"])(),Object(r["i"])("div",T,[Object(r["j"])("div",y,Object(r["K"])(n.name),1),Object(r["j"])("span",_,Object(r["K"])(a.timerState),1),Object(r["j"])("span",k,Object(r["K"])(a.initTimerState),1),Object(r["j"])("div",S,[a.isActive?(Object(r["z"])(),Object(r["g"])(c,{key:1,tabindex:n.loading||n.inactive?-1:0,label:"Stop",onClick:t[1]||(t[1]=function(t){return e.$emit("stop-timer")})},null,8,["tabindex"])):(Object(r["z"])(),Object(r["g"])(c,{key:0,tabindex:n.loading||n.inactive?-1:0,label:"Start",onClick:t[0]||(t[0]=function(t){return e.$emit("start-timer")}),type:"transparent"},null,8,["tabindex"])),Object(r["k"])(c,{tabindex:n.loading||n.inactive?-1:0,label:"Reset",type:"transparent",color:"lime",onClick:t[2]||(t[2]=function(t){return e.$emit("reset-timer")})},null,8,["tabindex"]),Object(r["k"])(c,{tabindex:n.loading||n.inactive?-1:0,type:"transparent",color:"gold",label:"Edit",onClick:t[3]||(t[3]=function(t){return e.$emit("edit-timer")})},null,8,["tabindex"]),Object(r["k"])(c,{tabindex:n.loading||n.inactive?-1:0,color:"red",label:"Delete",onClick:t[4]||(t[4]=function(t){return e.$emit("remove-timer")})},null,8,["tabindex"])]),n.loading?(Object(r["z"])(),Object(r["g"])(u,{key:0})):Object(r["h"])("",!0)])}n("a9e3"),n("99af"),n("4d90"),n("25f0");var x=n("bc3f"),E={name:"AppTimerCard",props:{name:String,timeLeft:[Number,String],initTimeLeft:[Number,String],started:String,stopped:String,loading:Boolean,inactive:Boolean,runOutAt:String},emits:{"remove-timer":null,"start-timer":null,"stop-timer":null,"edit-timer":null,"reset-timer":null,"timer-done":null},data:function(){return{intervalId:null,localTimeLeft:null,timerDone:!1}},computed:{isActive:function(){return!(!this.started||this.stopped)},timerState:function(){var e=Object(x["a"])(this.localTimeLeft),t=e.hours,n=e.minutes,r=e.seconds;return t<0||n<0||r<0?"-".concat(this.padTime(-t),":").concat(this.padTime(-n),":").concat(this.padTime(-r)):"".concat(this.padTime(t),":").concat(this.padTime(n),":").concat(this.padTime(r))},initTimerState:function(){var e=Object(x["a"])(this.initTimeLeft),t=e.hours,n=e.minutes,r=e.seconds;return"".concat(this.padTime(t),":").concat(this.padTime(n),":").concat(this.padTime(r))}},watch:{isActive:{immediate:!0,handler:function(e){e?this.startCountdown():this.stopCountdown()}},timeLeft:{immediate:!0,handler:function(e){this.localTimeLeft=e}}},beforeUnmount:function(){this.stopCountdown()},methods:{padTime:function(e){return e.toString().padStart(2,"0")},countTime:function(){var e=new Date(this.started),t=new Date,n=t-e;this.localTimeLeft=+this.timeLeft-n,this.checkStatus()},startCountdown:function(){this.countTime(),this.intervalId=setInterval(this.countTime,1e3)},stopCountdown:function(){clearInterval(this.intervalId),this.intervalId=null},reset:function(){this.localTimeLeft=this.timeLeft,this.timerDone=!1},checkStatus:function(){!this.timerDone&&this.localTimeLeft<0&&(this.$emit("timer-done"),this.timerDone=!0)}}};n("28b8");const C=m()(E,[["render",P],["__scopeId","data-v-77d2b995"]]);var I,L=C;I=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER?n("8d7f").default:n("27f7").default;var R=I,A={name:"ViewTimer",components:{AppTimerCard:L},emits:{"toggle-popup":Object,"handle-http-error":Object,"send-notif":Object},data:function(){return{timers:[],timersLoadingStat:[],loading:!1}},mounted:function(){this.getTimers()},methods:{resetTimer:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var r,i,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.timersLoadingStat[e]=!0,r=t.timers[e],n.prev=2,o=(new Date).toUTCString(),n.next=6,R.updTimerById(r.id,{stopped:o,started:null,timeLeft:r.initTimeLeft,runOutAt:null});case 6:a=n.sent,t.timers=a,null===(i=t.$refs.cards[e])||void 0===i||i.reset();case 9:return n.prev=9,t.timersLoadingStat[e]=!1,n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[2,,9,12]])})))()},removeTimer:function(e){var t=this;this.loading=!0;var n=this.timers[e].id;R.removeTimerById(n).then((function(e){return t.timers=e})).finally((function(){return t.loading=!1}))},startTimer:function(e){var t=this;this.timersLoadingStat[e]=!0;var n=this.timers[e];n.started=(new Date).toUTCString(),n.stopped=null,R.updTimerById(n.id,{started:n.started,stopped:null}).then((function(e){return t.timers=e})).finally((function(){return t.timersLoadingStat[e]=!1}))},stopTimer:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=new Date,t.timersLoadingStat[e]=!0,i=t.timers[e],n.prev=3,n.next=6,R.updTimerById(i.id,{stopped:r.toUTCString()});case 6:o=n.sent,t.timers=o;case 8:return n.prev=8,t.timersLoadingStat[e]=!1,n.finish(8);case 11:case"end":return n.stop()}}),n,null,[[3,,8,11]])})))()},updateTimerPopup:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.stopTimer(e);case 2:t.$emit("toggle-popup",{name:"popup-timer",props:Object(O["a"])(Object(O["a"])({},t.timers[e]),{},{title:"Edit timer:"})});case 3:case"end":return n.stop()}}),n)})))()},addTimerPopup:function(){this.$emit("toggle-popup",{name:"popup-timer",props:{title:"Add new timer:"}})},getTimers:function(){var e=this;this.loading=!0,R.getTimers().then((function(t){return e.timers=t})).catch((function(t){401===t.status?e.$emit("handle-http-error",t):console.error("Error:",t)})).finally((function(){return e.loading=!1}))},createNewTimer:function(e){var t=this;this.loading=!0,R.newTimer(e).then((function(e){return t.timers=e})).finally((function(){return t.loading=!1})),this.$emit("toggle-popup")},updateTimer:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,R.updTimerById(e.id,e);case 3:t.timers=n.sent,t.loading=!1,t.$emit("toggle-popup");case 6:case"end":return n.stop()}}),n)})))()},timerDone:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var r,i,o,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=function(){return t.timers[e]},i().runOutAt){n.next=4;break}return n.next=4,t.updateTimer({id:i().id,runOutAt:(new Date).toUTCString()});case 4:o=new Date(i().runOutAt).toTimeString(),a=new Date(i().runOutAt).toDateString(),c={title:"Timer: ".concat(null!==(r=i().name)&&void 0!==r?r:"(no-name)"," run out at:"),body:"".concat(o+" | "+a)},t.$emit("send-notif",c);case 8:case"end":return n.stop()}}),n)})))()}}};n("f66e");const N=m()(A,[["render",j],["__scopeId","data-v-4fe72a94"]]);var B=N,D=[{path:"/",name:"ViewTimer",component:B}],z=Object(v["a"])({history:Object(v["b"])("/"),routes:D}),H=z,$=n("5502"),U=Object($["a"])({state:{},mutations:{},actions:{},modules:{}}),V=n("3835"),M=(n("4fad"),n("a15b"),n("d81d"),n("ac1f"),n("1276"),function(e){return e.split("").map((function(e,t){return e.toUpperCase()===e?"".concat(0!==t?"-":"").concat(e.toLowerCase()):e})).join("")}),J=function(e){return Object(r["C"])("data-v-d63c0b2c"),e=e(),Object(r["A"])(),e},K={class:"app-header"},q={class:"app-header__left"},F=J((function(){return Object(r["j"])("span",{class:"app-header__title"}," Timer ",-1)})),Z={key:0,class:"app-header__auth"},Q={key:0},Y={class:"app-header__username"},G={key:1};function W(e,t,n,i,o,a){var c=Object(r["H"])("icon-reorder");return Object(r["z"])(),Object(r["i"])("div",K,[Object(r["j"])("div",q,[(Object(r["z"])(),Object(r["i"])("button",{key:0,class:"app-header__sidebar-button",onClick:t[0]||(t[0]=function(t){return e.$emit("toggle-settings")})},[Object(r["k"])(c,{class:"app-header__sidebar-button__icon"})])),F]),o.showAuth?(Object(r["z"])(),Object(r["i"])("div",Z,[n.user&&n.user.id?(Object(r["z"])(),Object(r["i"])("div",Q,[Object(r["j"])("span",Y,Object(r["K"])(n.user.id),1),Object(r["j"])("button",{class:"app-header__login",onClick:t[1]||(t[1]=function(){return a.authLogout&&a.authLogout.apply(a,arguments)})},"Logout")])):(Object(r["z"])(),Object(r["i"])("div",G,[Object(r["j"])("button",{class:"app-header__login",onClick:t[2]||(t[2]=function(e){return a.authPopup("popup-auth")})},"Sign up")]))])):Object(r["h"])("",!0)])}var X={name:"AppHeader",props:{user:Object},emits:{"toggle-settings":null,"toggle-popup":Object,"popup-event":Object},data:function(){return{showAuth:!!Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER}},methods:{authPopup:function(e){this.$emit("toggle-popup",{name:e})},authLogout:function(){this.$emit("popup-event",{type:"setUser",payload:{}})}}};n("3d6a");const ee=m()(X,[["render",W],["__scopeId","data-v-d63c0b2c"]]);var te=ee,ne=function(e){return Object(r["C"])("data-v-0c982a32"),e=e(),Object(r["A"])(),e},re={class:"app-settings"},ie=ne((function(){return Object(r["j"])("h4",{class:"app-settings__title"},"Settings",-1)})),oe=ne((function(){return Object(r["j"])("label",null,"Enable notification.",-1)}));function ae(e,t,n,i,o,a){var c=Object(r["H"])("base-checkbox");return Object(r["z"])(),Object(r["i"])("div",re,[ie,Object(r["j"])("div",{onClick:t[0]||(t[0]=function(){return a.atNotifChange&&a.atNotifChange.apply(a,arguments)}),class:"app-settings__row"},[Object(r["k"])(c,{checked:o.notifEnabled,class:"app-settings__checkbox"},null,8,["checked"]),oe])])}var ce={name:"AppSettings",data:function(){return{notifEnabled:JSON.parse(localStorage.getItem("notifications"))}},emits:{"toggle-popup":Object},methods:{atNotifChange:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=!e.notifEnabled,!n||l.isPermited()){t.next=6;break}return t.next=4,l.askPermission();case 4:r=t.sent,"granted"!==r&&(n=e.notifEnabled,e.$emit("toggle-popup",{name:"popup-info",props:{title:"Error",body:"Enable notifications in your app."}}));case 6:e.notifEnabled=n,localStorage.setItem("notifications",e.notifEnabled);case 8:case"end":return t.stop()}}),t)})))()}}};n("05f1");const ue=m()(ce,[["render",ae],["__scopeId","data-v-0c982a32"]]);var se=ue,pe={components:{AppHeader:te,AppSettings:se}};function le(e,t,n,i,o,a){return Object(r["z"])(),Object(r["i"])("button",{class:"base-button",style:Object(r["u"])(a.buttonColor)},Object(r["K"])(n.label),5)}var de={name:"BaseButton",props:{label:String,color:String,type:String},computed:{buttonColor:function(){var e,t;return"transparent"===this.type?{color:null!==(e=this.color)&&void 0!==e?e:"var(--second-color)",borderColor:null!==(t=this.color)&&void 0!==t?t:"var(--second-color)",background:"none"}:{backgroundColor:this.color,borderColor:this.color}}}};n("278f");const fe=m()(de,[["render",le],["__scopeId","data-v-253691ff"]]);var me=fe,be={class:"base-popup__content"};function he(e,t,n,i,o,a){var c=Object(r["H"])("focus-trap");return Object(r["z"])(),Object(r["i"])("div",{class:"base-popup",onClick:t[0]||(t[0]=Object(r["R"])((function(t){return e.$emit("toggle-popup")}),["self"]))},[Object(r["k"])(c,{active:!1,ref:"focusTrap"},{default:Object(r["O"])((function(){return[Object(r["j"])("div",be,[Object(r["G"])(e.$slots,"default",{},void 0,!0)])]})),_:3},512)])}var ve={name:"BasePopup",emits:{"toggle-popup":null},data:function(){return{intervalId:null,ATTEMPTS:10,DELAY:500,attempt:0}},mounted:function(){var e=this;this.intervalId=setInterval((function(){e.trapFocus(),e.attempt++,e.attempt>=e.ATTEMPTS&&clearInterval(e.intervalId)}),this.DELAY)},methods:{trapFocus:function(){try{this.$refs.focusTrap.activate(),clearInterval(this.intervalId)}catch(e){console.error("BasePopup: focus not catched.")}}}};n("e16e");const ge=m()(ve,[["render",he],["__scopeId","data-v-66764b7c"]]);var je=ge,Oe={class:"base-text-input"},we={class:"base-text-input__label",for:"input"},Te={class:"base-text-input__wrapper"},ye=["type","placeholder"];function _e(e,t,n,i,o,a){var c=Object(r["H"])("base-visibility-icon");return Object(r["z"])(),Object(r["i"])("div",Oe,[Object(r["j"])("label",we,Object(r["K"])(n.label),1),Object(r["j"])("div",Te,[Object(r["P"])(Object(r["j"])("input",{class:"base-text-input__field",name:"input",type:a._type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.value=e}),placeholder:n.placeholder,autocomplete:"off"},null,8,ye),[[r["M"],a.value]]),"password"===n.type?(Object(r["z"])(),Object(r["g"])(c,{key:0,tabindex:"0",status:o.showPassword,class:"base-text-input__field__vis-icon",onClick:a.togglePasswordVis,onKeyup:[Object(r["Q"])(Object(r["R"])(a.togglePasswordVis,["stop"]),["enter"]),Object(r["Q"])(a.togglePasswordVis,["space"])]},null,8,["status","onClick","onKeyup"])):Object(r["h"])("",!0)])])}var ke={name:"BaseTextInput",props:{modelValue:[String,Number],placeholder:[String,Number],label:String,type:{type:String,default:"text"}},emits:{"update:modelValue":[String,Number]},computed:{value:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e)}},_type:function(){return"password"===this.type&&this.showPassword?"text":this.type}},data:function(){return{showPassword:!1}},methods:{togglePasswordVis:function(){this.showPassword=!this.showPassword}}};n("4147");const Se=m()(ke,[["render",_e],["__scopeId","data-v-aab9dcb2"]]);var Pe=Se,xe=function(e){return Object(r["C"])("data-v-25e3f476"),e=e(),Object(r["A"])(),e},Ee=xe((function(){return Object(r["j"])("div",{class:"lds-ring"},[Object(r["j"])("div"),Object(r["j"])("div"),Object(r["j"])("div"),Object(r["j"])("div")],-1)})),Ce=[Ee];function Ie(e,t,n,i,o,a){return Object(r["z"])(),Object(r["i"])("div",null,Ce)}var Le={name:"BaseLoader"};n("aa56");const Re=m()(Le,[["render",Ie],["__scopeId","data-v-25e3f476"]]);var Ae=Re,Ne=function(e){return Object(r["C"])("data-v-513f61af"),e=e(),Object(r["A"])(),e},Be={class:"base-loader"},De=Ne((function(){return Object(r["j"])("div",{class:"base-loader__background"},null,-1)}));function ze(e,t,n,i,o,a){var c=Object(r["H"])("base-spinner");return Object(r["z"])(),Object(r["i"])("div",Be,[De,Object(r["k"])(c,{class:"base-loader__spinner"})])}var He={name:"BaseLoader"};n("36b6");const $e=m()(He,[["render",ze],["__scopeId","data-v-513f61af"]]);var Ue=$e,Ve=n("3163"),Me=n.n(Ve),Je=n("0402"),Ke=n.n(Je),qe={key:0,src:Me.a},Fe={key:1,src:Ke.a};function Ze(e,t,n,i,o,a){return Object(r["z"])(),Object(r["i"])("div",null,[n.status?(Object(r["z"])(),Object(r["i"])("img",qe)):Object(r["h"])("",!0),n.status?Object(r["h"])("",!0):(Object(r["z"])(),Object(r["i"])("img",Fe))])}var Qe={name:"BaseVisibilityIcon",props:{status:Boolean}};const Ye=m()(Qe,[["render",Ze]]);var Ge=Ye;function We(e,t,n,i,o,a){return Object(r["z"])(),Object(r["i"])("div",{class:Object(r["t"])(["base-checkbox",{"base-checkbox_checked":n.checked}])},null,2)}var Xe={name:"BaseCheckbox",props:{checked:Boolean}};n("386a");const et=m()(Xe,[["render",We],["__scopeId","data-v-190e06ac"]]);var tt=et,nt={components:{BaseButton:me,BasePopup:je,BaseTextInput:Pe,BaseSpinner:Ae,BaseLoader:Ue,BaseVisibilityIcon:Ge,BaseCheckbox:tt}},rt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},it=Object(r["j"])("path",{d:"M6 38.05v-3h36v3Zm0-8.3v-3h36v3Zm0-8.35v-3h36v3Zm0-8.35v-3h36v3Z"},null,-1),ot=[it];function at(e,t,n,i,o,a){return Object(r["z"])(),Object(r["i"])("svg",rt,ot)}var ct={name:"IconReorder"};const ut=m()(ct,[["render",at]]);var st=ut,pt={components:{IconReorder:st}},lt=Object(O["a"])(Object(O["a"])(Object(O["a"])({},pe.components),nt.components),pt.components),dt=function(e){for(var t=0,n=Object.entries(lt);t<n.length;t++){var r=Object(V["a"])(n[t],2),i=r[0],o=r[1];e.component(M(i),o)}},ft=n("164c"),mt=Object(r["f"])(h);dt(mt),mt.component("FocusTrap",ft["a"]),mt.use(U).use(H),mt.mount("#app")},7895:function(e,t,n){},"8d7f":function(e,t,n){"use strict";n.r(t);var r=n("5530"),i=n("1da1"),o=(n("96cf"),n("d3b7"),n("e9c4"),function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}),a=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER,c=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(a+"timers",{method:"POST",headers:Object(r["a"])({"Content-Type":"application/json"},o()),body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:if(i=e.sent,201===n.status){e.next=8;break}throw i;case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(a+"timers",{headers:o()});case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,200===t.status){e.next=8;break}throw Object(r["a"])(Object(r["a"])({},n),{},{status:t.status});case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(a+"timers/"+t,{method:"DELETE",headers:o()});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(a+"timers/"+t,{method:"PUT",headers:Object(r["a"])({"Content-Type":"application/json"},o()),body:JSON.stringify(n)});case 2:return i=e.sent,e.next=5,i.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t["default"]={newTimer:c,getTimers:u,removeTimerById:s,updTimerById:p}},"992f":function(e,t,n){},aa56:function(e,t,n){"use strict";n("36a3")},bc3f:function(e,t,n){"use strict";t["a"]=function(e){var t=e<0?Math.ceil:Math.floor;if(!e)return{seconds:0,minutes:0,hours:0};var n=t(e/1e3),r=t(n/60),i=t(r/60);return n%=60,r%=60,{seconds:n,minutes:r,hours:i}}},d52a:function(e,t,n){},d871:function(e,t,n){},e16e:function(e,t,n){"use strict";n("1d50")},f4f9:function(e,t,n){},f5a3:function(e,t,n){},f66e:function(e,t,n){"use strict";n("1c4a")}});
//# sourceMappingURL=app.0c3803af.js.map