(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{24:function(e,t,n){e.exports=n(40)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),o=n.n(c),u=n(13),l=n(2),i=n(1);n(29);var s=function(e){var t="square";return e.isActive&&(t+=" active"),r.a.createElement("p",{id:e.id,className:t,onMouseOver:e.handleMouseOver})};n(30);var f,m=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(1),l=Object(i.a)(u,2),f=l[0],m=l[1];function d(t){if(t.target.id){var n=t.target.id.split(":").map((function(e){return parseInt(e)})),a=Object(i.a)(n,2),r=a[0],c=a[1],u=1;1===e.gameGrid[r][c]&&(m(0),u=0),e.setCellState(r,c,u)}o(!0)}function v(){m(1),o(!1)}return r.a.createElement("div",null,r.a.createElement("table",{onMouseDown:d,onMouseUp:v,onTouchMove:function(t){if(e.isEditMode){var n=document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY);if(null===n||void 0===n?void 0:n.id){var a=n.id.split(":").map((function(e){return parseInt(e)})),r=Object(i.a)(a,2),c=r[0],o=r[1];e.setCellState(c,o,f)}}},onTouchStart:function(t){e.isEditMode&&d(t)},onTouchEnd:v},r.a.createElement("tbody",null,function(t){for(var n=t.length,a=t[0].length,o=[],u=function(n){for(var u=[],l=function(a){u.push(r.a.createElement("td",{key:a},function(e,t,n,a){return r.a.createElement(s,{isActive:e,id:t,handleMouseOver:n,handleTouchMove:a})}(t[n][a],"".concat(n,":").concat(a),(function(){return t=n,r=a,void(c&&e.setCellState(t,r,f));var t,r}))))},i=0;i<a;i++)l(i);o.push(r.a.createElement("tr",{key:n},u))},l=0;l<n;l++)u(l);return o}(e.gameGrid))))},d=(n(31),n(14)),v=n(12);function h(e,t){var n=f[e][t],a=function(e){var t,n=0,a=Object(d.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,c=Object(i.a)(r,2),o=c[0],u=c[1],l=f[o][u];n+=l}}catch(s){a.e(s)}finally{a.f()}return n}(function(e,t){for(var n=[],a=0,r=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]];a<r.length;a++){var c=b([e,t],r[a]);c[0]<0?c[0]=f[0].length-1:c[0]>f[0].length-1&&(c[0]=0),c[1]<0?c[1]=f.length-1:c[1]>f.length-1&&(c[1]=0),n.push(c)}return n}(e,t));return n?2===a||3===a?1:0:3===a?1:0}function b(e,t){if(e.length!==t.length)throw new Error("Two arrays should have equal length");for(var n=[],a=0;a<e.length;a++)n.push(e[a]+t[a]);return n}var E=function(e){f=Object(v.cloneDeep)(e);for(var t=Object(v.cloneDeep)(f),n=0;n<f.length;n++)for(var a=0;a<f[0].length;a++)t[n][a]=h(n,a);return t};function p(e){e.preventDefault(),e.stopImmediatePropagation()}var g=function(e){var t=Object(l.g)(),n=t.rows,c=t.columns,o=Array.from({length:parseInt(n)},(function(){return new Array(parseInt(c)).fill(0)})),u=Object(a.useState)(o),s=Object(i.a)(u,2),f=s[0],d=s[1],h=Object(a.useState)(),b=Object(i.a)(h,2),g=b[0],j=b[1],O=Object(a.useState)(),w=Object(i.a)(O,2),S=w[0],y=w[1],M=Object(a.useState)(!1),C=Object(i.a)(M,2),k=C[0],I=C[1];return Object(a.useEffect)((function(){k?window.addEventListener("touchmove",p,{passive:!1,capture:!1}):window.removeEventListener("touchmove",p,{passive:!1,capture:!1})}),[k]),Object(a.useEffect)((function(){y(function(){try{var e=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||"undefined"!==typeof window.DocumentTouch&&document instanceof window.DocumentTouch||(t=["(",e.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(t).matches)}catch(n){return console.error("(Touch detect failed)",n),!1}var t}())}),[]),r.a.createElement("div",{className:"flex-column"},r.a.createElement("div",null,S&&r.a.createElement("button",{className:"fixed",onClick:function(){return I(!k)}},k?"Move":"Edit"),r.a.createElement("button",{onClick:function(){if(g)clearInterval(g),j(void 0);else{var e=setInterval((function(){return d((function(e){return E(e)}))}),100);j(e)}}},g?"Stop":"Start"),r.a.createElement("button",{onClick:function(){return d(o)}},"Clear")),r.a.createElement(m,{isEditMode:k,gameGrid:f,setCellState:function(e,t,n){var a=Object(v.cloneDeep)(f);a[e][t]=n,d(a)}}))},j=(n(37),n(23));var O=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(j.a)(),u=o.register,s=o.handleSubmit;return r.a.createElement("div",{className:"flex-column bg justify-center"},n,r.a.createElement("h1",null,"Conway's Game of Life"),r.a.createElement("h4",null,"Set the field size"),r.a.createElement("form",{onSubmit:s((function(e){c(r.a.createElement(l.a,{push:!0,to:"/game/".concat(e.rows,"/").concat(e.columns)}))}))},r.a.createElement("label",null,"Rows:"),r.a.createElement("input",{type:"number",name:"rows",defaultValue:"35",ref:u}),r.a.createElement("label",null,"Columns:"),r.a.createElement("input",{type:"number",name:"columns",defaultValue:"35",ref:u}),r.a.createElement("button",null,"Start")))};var w=function(){return r.a.createElement(u.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/gol"},r.a.createElement(O,null)),r.a.createElement(l.b,{path:"/gol/game/:rows/:columns"},r.a.createElement(g,null))))};n(39);o.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.203011fa.chunk.js.map