{"version":3,"sources":["webpack:///./src/components/AppSignupForm.vue","webpack:///./src/services/auth.service.js","webpack:///./src/components/AppSignupForm.vue?b293","webpack:///./src/components/AppSignupForm.vue?a8ef"],"names":["class","placeholder","data","id","postLogin","password","type","label","postSignup","SERVER","process","VUE_APP_SERVER","authForm","fetch","method","headers","body","JSON","stringify","response","json","result","status","name","emits","Object","methods","this","then","console","log","$emit","catch","error","payload","finally","__exports__","render"],"mappings":"4IACOA,MAAM,mB,GAYJA,MAAM,4B,wHAZb,eAsBM,MAtBN,EAsBM,CArBJ,eAIE,GAHAC,YAAY,W,WACH,EAAAC,KAAKC,G,qDAAL,EAAAD,KAAKC,GAAE,IACf,QAAK,eAAQ,EAAAC,UAAS,Y,iCAEzB,eAKE,GAJAH,YAAY,W,WACH,EAAAC,KAAKG,S,qDAAL,EAAAH,KAAKG,SAAQ,IACrB,QAAK,eAAQ,EAAAD,UAAS,WACvBE,KAAK,Y,iCAEP,eASM,MATN,EASM,CARJ,eAGE,GAFAC,MAAM,UACL,QAAO,EAAAC,Y,oBAEV,eAGE,GAFAD,MAAM,QACL,QAAO,EAAAH,W,8DCpBVK,G,oBAASC,6CAAYC,gBAErBH,EAAU,yDAAG,WAAOI,GAAP,yGACMC,MAAMJ,EAAS,cAAe,CACnDK,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAUN,KAJN,cACXO,EADW,gBAMIA,EAASC,OANb,UAMXC,EANW,OAOO,MAApBF,EAASG,OAPI,uDAOsBD,GAPtB,IAO8BC,OAAQH,EAASG,SAP/C,gCAQVD,GARU,2CAAH,sDAWVjB,EAAS,yDAAG,WAAOQ,GAAP,yGACOC,MAAMJ,EAAS,aAAc,CAClDK,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAUN,KAJP,cACVO,EADU,gBAMKA,EAASC,OANd,UAMVC,EANU,OAOQ,MAApBF,EAASG,OAPG,sBAOmBD,EAPnB,gCAQTA,GARS,2CAAH,sDAWA,GACbb,aACAJ,aDGa,GACbmB,KAAM,gBAENrB,KAHa,WAIX,MAAO,CACLA,KAAM,CACJC,GAAI,KACJE,SAAU,QAKhBmB,MAAO,CACL,eAAgB,KAChB,cAAeC,OACf,oBAAqBA,QAGvBC,QAAS,CACPlB,WADO,WACO,WACZ,EAAKA,WAAWmB,KAAKzB,MAClB0B,MAAK,SAAAP,GACJQ,QAAQC,IAAIT,GACZ,EAAKU,MAAM,mBAEZC,OAAM,SAAAC,GACL,OAAIA,QAAJ,IAAIA,KAAOX,OAAQ,EAAKS,MAAM,oBAAqBE,GAC9CJ,QAAQI,MAAM,SAAUA,OAGnC7B,UAZO,WAYM,WACX,EAAKA,UAAUuB,KAAKzB,MACjB0B,MAAK,SAAAP,GAAK,OAAK,EAAKU,MAAM,cAAe,CAACzB,KAAM,UAAW4B,QAASb,OACpEW,OAAM,SAAAC,GAAI,OAAKJ,QAAQI,MAAMA,MAC7BE,SAAQ,kBAAM,EAAKJ,MAAM,sB,iCExDlC,MAAMK,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf,W","file":"js/chunk-4137ffb0.2997980d.js","sourcesContent":["<template>\n  <div class=\"app-signup-form\">\n    <base-text-input\n      placeholder=\"Username\"\n      v-model=\"data.id\"\n      @keyup.enter=\"postLogin\"\n    />\n    <base-text-input\n      placeholder=\"Password\"\n      v-model=\"data.password\"\n      @keyup.enter=\"postLogin\"\n      type=\"password\"\n    />\n    <div class=\"app-signup-form__buttons\">\n      <base-button\n        label=\"Sign up\"\n        @click=\"postSignup\"\n      />\n      <base-button\n        label=\"Login\"\n        @click=\"postLogin\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Auth from '@/services/auth.service.js'\n\nexport default {\n  name: 'AppSignupForm',\n\n  data () {\n    return {\n      data: {\n        id: null,\n        password: null\n      }\n    }\n  },\n\n  emits: {\n    'toggle-popup': null,\n    'popup-event': Object,\n    'handle-http-error': Object\n  },\n\n  methods: {\n    postSignup () {\n      Auth.postSignup(this.data)\n        .then(result => {\n          console.log(result)\n          this.$emit('toggle-popup')\n        })\n        .catch(error => {\n          if (error?.status) this.$emit('handle-http-error', error)\n          else console.error('Error:', error)\n        })\n    },\n    postLogin () {\n      Auth.postLogin(this.data)\n        .then(result => this.$emit('popup-event', {type: 'setUser', payload: result}))\n        .catch(error => console.error(error))\n        .finally(() => this.$emit('toggle-popup'))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-signup-form {\n  display: flex;\n  flex-direction: column;\n\n  &__buttons {\n    display: flex;\n    justify-content: center;\n    margin-top: 10px;\n\n    & > *:not(:last-child) {\n      margin-right: 8px;\n    }\n  }\n}\n</style>\n","const SERVER = process.env.VUE_APP_SERVER\n\nconst postSignup = async (authForm) => {\n  const response = await fetch(SERVER + 'auth/signup', {\n    method: 'POST',\n    headers: {'Content-Type': 'application/json'},\n    body: JSON.stringify(authForm)\n  })\n  const result = await response.json()\n  if (response.status !== 200) throw {...result, status: response.status}\n  return result\n}\n\nconst postLogin = async (authForm) => {\n  const response = await fetch(SERVER + 'auth/login', {\n    method: 'POST',\n    headers: {'Content-Type': 'application/json'},\n    body: JSON.stringify(authForm)\n  })\n  const result = await response.json()\n  if (response.status !== 200) throw result\n  return result\n}\n\nexport default {\n  postSignup,\n  postLogin\n}\n","import { render } from \"./AppSignupForm.vue?vue&type=template&id=16d647dc&scoped=true\"\nimport script from \"./AppSignupForm.vue?vue&type=script&lang=js\"\nexport * from \"./AppSignupForm.vue?vue&type=script&lang=js\"\n\nimport \"./AppSignupForm.vue?vue&type=style&index=0&id=16d647dc&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\kav99\\\\Documents\\\\_w\\\\custom-timer-main\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16d647dc\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./AppSignupForm.vue?vue&type=style&index=0&id=16d647dc&lang=scss&scoped=true\""],"sourceRoot":""}